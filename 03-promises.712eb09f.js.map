{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAO,CACXC,SAAUC,SAASC,cAAc,UACjCC,gBAAiBF,SAASC,cAAc,qBACxCE,WAAYH,SAASC,cAAc,oBACnCG,YAAaJ,SAASC,cAAc,uBAGtC,IAAII,EAAgB,EAiBpBP,EAAKC,SAASO,iBAAiB,SAASC,IACtCA,EAAMC,iBACN,MAAMN,gBAAEA,EAAeC,WAAEA,EAAUC,YAAEA,GAAgBN,EAC/CW,EAAQC,OAAOP,EAAWQ,OAC1BC,EAAaF,OAAOR,EAAgBS,OAE1CE,YAAW,KACT,MAAMC,EAAaC,aAAY,KAC7B,GAAIV,GAAiBD,EAAYO,MAG/B,OAFAK,cAAcF,QACdT,EAAgB,IAzBxB,SAAuBY,EAAUR,GACTS,KAAKC,SAAW,GAEpCvB,EAAAwB,OAAOC,QAAQ,uBAAqBJ,EAAY,QAAOR,MAAW,CAC9Da,SAAO,EACTC,cAAc,IAGhB3B,EAAAwB,OAAOI,QAAQ,sBAAoBP,EAAU,QAAOR,MAAW,CAC7Da,SAAS,EACTC,cAAc,G,CAkBdE,CAAcpB,EAAeI,EAAQJ,EAAgBO,GACrDP,GAAiB,CAAC,GACjBI,EAAM,GACRG,EAAW","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nconst refs = {\n  startBtn: document.querySelector('button'),\n  firstDelayInput: document.querySelector('input[name=delay]'),\n  delayInput: document.querySelector('input[name=step]'),\n  amountInput: document.querySelector('input[name=amount]'),\n};\n\nlet currentAmount = 0;\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n  if (shouldResolve) {\n    Notify.success(`✅ Fulfilled promise ${position+1} in ${delay}ms`, {\n      useIcon: false,\n      clickToClose: true,\n    });\n  } else {\n    Notify.failure(`❌ Rejected promise ${position+1} in ${delay}ms`, {\n      useIcon: false,\n      clickToClose: true,\n    });\n  }\n}\n\nrefs.startBtn.addEventListener('click', event => {\n  event.preventDefault();\n  const { firstDelayInput, delayInput, amountInput } = refs;\n  const delay = Number(delayInput.value);\n  const firstDelay = Number(firstDelayInput.value);\n\n  setTimeout(() => {\n    const intervalId = setInterval(() => {\n      if (currentAmount >= amountInput.value) {\n        clearInterval(intervalId);\n        currentAmount = 0;\n        return;\n      }\n      createPromise(currentAmount, delay * currentAmount + firstDelay);\n      currentAmount += 1;\n    }, delay);\n  }, firstDelay);\n});\n"],"names":["$iQIUW","parcelRequire","$47d4ff9957288465$var$refs","startBtn","document","querySelector","firstDelayInput","delayInput","amountInput","$47d4ff9957288465$var$currentAmount","addEventListener","event","preventDefault","delay","Number","value","firstDelay","setTimeout","intervalId","setInterval","clearInterval","position","Math","random","Notify","success","useIcon","clickToClose","failure","$47d4ff9957288465$var$createPromise"],"version":3,"file":"03-promises.712eb09f.js.map"}