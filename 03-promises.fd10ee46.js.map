{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,SAEMC,EAAO,CACXC,SAAUC,SAASC,cAAc,UACjCC,gBAAiBF,SAASC,cAAc,qBACxCE,WAAYH,SAASC,cAAc,oBACnCG,YAAaJ,SAASC,cAAc,uBAGlCI,EAAgB,EAiBpBP,EAAKC,SAASO,iBAAiB,SAAS,SAAAC,GACtCA,EAAMC,iBACN,IAAQN,EAA6CJ,EAA7CI,gBAAiBC,EAA4BL,EAA5BK,WAAYC,EAAgBN,EAAhBM,YAC/BK,EAAQC,OAAOP,EAAWQ,OAC1BC,EAAaF,OAAOR,EAAgBS,OAE1CE,YAAW,WACT,IAAMC,EAAaC,aAAY,WAC7B,GAAIV,GAAiBD,EAAYO,MAG/B,OAFAK,cAAcF,QACdT,EAAgB,IAzBxB,SAAuBY,EAAUR,GACTS,KAAKC,SAAW,GAEpCvB,EAAAwB,OAAOC,QAAQ,uBAA0CC,OAAjBL,EAAS,EAAE,QAAYK,OAANb,EAAM,MAAK,CAChEc,SAAO,EACTC,cAAc,IAGhB5B,EAAAwB,OAAOK,QAAQ,sBAAuCH,OAAjBL,EAAS,EAAE,QAAYK,OAANb,EAAM,MAAK,CAC/Dc,SAAS,EACTC,cAAc,G,CAkBdE,CAAcrB,EAAeI,EAAQJ,EAAgBO,GACrDP,GAAiB,C,GAChBI,E,GACFG,E","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nconst refs = {\n  startBtn: document.querySelector('button'),\n  firstDelayInput: document.querySelector('input[name=delay]'),\n  delayInput: document.querySelector('input[name=step]'),\n  amountInput: document.querySelector('input[name=amount]'),\n};\n\nlet currentAmount = 0;\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n  if (shouldResolve) {\n    Notify.success(`✅ Fulfilled promise ${position+1} in ${delay}ms`, {\n      useIcon: false,\n      clickToClose: true,\n    });\n  } else {\n    Notify.failure(`❌ Rejected promise ${position+1} in ${delay}ms`, {\n      useIcon: false,\n      clickToClose: true,\n    });\n  }\n}\n\nrefs.startBtn.addEventListener('click', event => {\n  event.preventDefault();\n  const { firstDelayInput, delayInput, amountInput } = refs;\n  const delay = Number(delayInput.value);\n  const firstDelay = Number(firstDelayInput.value);\n\n  setTimeout(() => {\n    const intervalId = setInterval(() => {\n      if (currentAmount >= amountInput.value) {\n        clearInterval(intervalId);\n        currentAmount = 0;\n        return;\n      }\n      createPromise(currentAmount, delay * currentAmount + firstDelay);\n      currentAmount += 1;\n    }, delay);\n  }, firstDelay);\n});\n"],"names":["$h6c0i","parcelRequire","$ce04d3a99e08e73b$var$refs","startBtn","document","querySelector","firstDelayInput","delayInput","amountInput","$ce04d3a99e08e73b$var$currentAmount","addEventListener","event","preventDefault","delay","Number","value","firstDelay","setTimeout","intervalId","setInterval","clearInterval","position","Math","random","Notify","success","concat","useIcon","clickToClose","failure","$ce04d3a99e08e73b$var$createPromise"],"version":3,"file":"03-promises.fd10ee46.js.map"}